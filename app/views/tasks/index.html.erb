<%= notice %>
<%= form_with url: tasks_path, method: :get, local: true do |f| %>
  <%= f.text_field :task_name %>
  <%= f.select :status, [["未着手","未着手"],["着手中","着手中"],["完了","完了"]], include_blank: "選択して下さい" %>
  <%= f.submit '検索', name: nil %>
<% end %>

<table>
  <tr>
    <th><%= t('attributes.task.task_name') %></th>
    <th><%= t('attributes.task.detail') %></th>
    <th><%= t('attributes.task.deadline') %></th>
    <th><%= t('attributes.task.status') %></th>
    <th><%= t('attributes.task.priority') %></th>
  </tr>
<% @tasks.each do |task| %>
  <tr class = "task_row">
    <td><%= task.task_name %></td>
    <td><%= task.detail %></td>
    <td><%= task.deadline %></td>
    <td><%= task.status %></td>
    <td><%= task.priority %></td>
    <td><%= link_to t('attributes.task.detail_page'), task_path(task.id) %></td>
    <td><%= link_to t('attributes.task.edit_page'), edit_task_path(task.id) %></td>
    <td><%= link_to t('attributes.task.delete'), task_path(task.id), method: :delete ,data: { confirm: '本当に削除していいですか？' } %></td>
  </tr>
<% end %>
</table>
</br>
<%= link_to t('attributes.task.Sort by Deadline'), tasks_path(deadline: "true") %>
<%= link_to t('attributes.task.Sort by Create_time'), tasks_path(created_at: "true") %>
<%= link_to t('attributes.task.Sort by Priority'), tasks_path(priority: "true") %>
<%= link_to t('attributes.task.create_task'), new_task_path %>
